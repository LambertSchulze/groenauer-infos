---
import BaseLayout from '../../layouts/BaseLayout.astro'
import TerminInfo from '../../components/TerminInfo.astro'
import { getFilenameFromPath } from '../../helpers'
import type { TerminFrontmatter as Frontmatter } from '../../types'

export async function getStaticPaths() {
  const termine = await Astro.glob<Frontmatter>('../../../termine/*.md')

  return termine.map(termin => { return {
    params: {
      slug: getFilenameFromPath(termin.file)
    },
    props: {
      frontmatter: termin.frontmatter,
      Content: termin.Content
    }
  }})
}

const { frontmatter, Content } = Astro.props
---

<BaseLayout>
  <TerminInfo termin={frontmatter} />
  <Content />
</BaseLayout>