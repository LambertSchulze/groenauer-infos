---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
    const orte = await getCollection("orte");
    return orte.map((ort) => ({
        params: {
            slug: ort.id,
        },
        props: ort,
    }));
}
type Props = CollectionEntry<"orte">;

const {
    data: { name, address: { street, house_number, postal_code, city}, map },
} = Astro.props;
---

<BaseLayout title={name}>
    <article>
        <h1 class="my-5 h3">{name}</h1>
        <section class="container row">
            <address class="col-4">
                {street}&NonBreakingSpace;{house_number}<br />
                {postal_code}{" "}{city}
            </address>

            {
                map && (
                    <iframe class="col-8" width="100%" height="350" src={map} />
                )
            }
        </section>
    </article>
</BaseLayout>
